(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[94],{6033:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/tanStackdemo",function(){return __webpack_require__(3114)}])},3114:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";let isReset;__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Home}});var jsx_runtime=__webpack_require__(5893),react=__webpack_require__(7294),GASAPI=__webpack_require__(3629),tanStackdemo_module=__webpack_require__(3467),tanStackdemo_module_default=__webpack_require__.n(tanStackdemo_module),utils=__webpack_require__(2161),notifyManager=__webpack_require__(81),focusManager=__webpack_require__(5761),subscribable=__webpack_require__(3989),retryer=__webpack_require__(2379);class QueryObserver extends subscribable.l{constructor(client,options){super(),this.client=client,this.options=options,this.trackedProps=new Set,this.selectError=null,this.bindMethods(),this.setOptions(options)}bindMethods(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.currentQuery.addObserver(this),shouldFetchOnMount(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(this.currentQuery,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.clearStaleTimeout(),this.clearRefetchInterval(),this.currentQuery.removeObserver(this)}setOptions(options,notifyOptions){let prevOptions=this.options,prevQuery=this.currentQuery;if(this.options=this.client.defaultQueryOptions(options),(0,utils.VS)(prevOptions,this.options)||this.client.getQueryCache().notify({type:"observerOptionsUpdated",query:this.currentQuery,observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=prevOptions.queryKey),this.updateQuery();let mounted=this.hasListeners();mounted&&shouldFetchOptionally(this.currentQuery,prevQuery,this.options,prevOptions)&&this.executeFetch(),this.updateResult(notifyOptions),mounted&&(this.currentQuery!==prevQuery||this.options.enabled!==prevOptions.enabled||this.options.staleTime!==prevOptions.staleTime)&&this.updateStaleTimeout();let nextRefetchInterval=this.computeRefetchInterval();mounted&&(this.currentQuery!==prevQuery||this.options.enabled!==prevOptions.enabled||nextRefetchInterval!==this.currentRefetchInterval)&&this.updateRefetchInterval(nextRefetchInterval)}getOptimisticResult(options){let query=this.client.getQueryCache().build(this.client,options),result=this.createResult(query,options);return options.keepPreviousData||(void 0!==options.placeholderData?!result.isPlaceholderData:(0,utils.VS)(this.getCurrentResult(),result))||(this.currentResult=result,this.currentResultOptions=this.options,this.currentResultState=this.currentQuery.state),result}getCurrentResult(){return this.currentResult}trackResult(result){let trackedResult={};return Object.keys(result).forEach(key=>{Object.defineProperty(trackedResult,key,{configurable:!1,enumerable:!0,get:()=>(this.trackedProps.add(key),result[key])})}),trackedResult}getCurrentQuery(){return this.currentQuery}remove(){this.client.getQueryCache().remove(this.currentQuery)}refetch({refetchPage,...options}={}){return this.fetch({...options,meta:{refetchPage}})}fetchOptimistic(options){let defaultedOptions=this.client.defaultQueryOptions(options),query=this.client.getQueryCache().build(this.client,defaultedOptions);return query.isFetchingOptimistic=!0,query.fetch().then(()=>this.createResult(query,defaultedOptions))}fetch(fetchOptions){var _fetchOptions$cancelR;return this.executeFetch({...fetchOptions,cancelRefetch:null==(_fetchOptions$cancelR=fetchOptions.cancelRefetch)||_fetchOptions$cancelR}).then(()=>(this.updateResult(),this.currentResult))}executeFetch(fetchOptions){this.updateQuery();let promise=this.currentQuery.fetch(this.options,fetchOptions);return null!=fetchOptions&&fetchOptions.throwOnError||(promise=promise.catch(utils.ZT)),promise}updateStaleTimeout(){if(this.clearStaleTimeout(),utils.sk||this.currentResult.isStale||!(0,utils.PN)(this.options.staleTime))return;let time=(0,utils.Kp)(this.currentResult.dataUpdatedAt,this.options.staleTime);this.staleTimeoutId=setTimeout(()=>{this.currentResult.isStale||this.updateResult()},time+1)}computeRefetchInterval(){var _this$options$refetch;return"function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.currentResult.data,this.currentQuery):null!=(_this$options$refetch=this.options.refetchInterval)&&_this$options$refetch}updateRefetchInterval(nextInterval){this.clearRefetchInterval(),this.currentRefetchInterval=nextInterval,!utils.sk&&!1!==this.options.enabled&&(0,utils.PN)(this.currentRefetchInterval)&&0!==this.currentRefetchInterval&&(this.refetchIntervalId=setInterval(()=>{(this.options.refetchIntervalInBackground||focusManager.j.isFocused())&&this.executeFetch()},this.currentRefetchInterval))}updateTimers(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())}clearStaleTimeout(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)}clearRefetchInterval(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)}createResult(query,options){let data;let prevQuery=this.currentQuery,prevOptions=this.options,prevResult=this.currentResult,prevResultState=this.currentResultState,prevResultOptions=this.currentResultOptions,queryChange=query!==prevQuery,queryInitialState=queryChange?query.state:this.currentQueryInitialState,prevQueryResult=queryChange?this.currentResult:this.previousQueryResult,{state}=query,{dataUpdatedAt,error,errorUpdatedAt,fetchStatus,status}=state,isPreviousData=!1,isPlaceholderData=!1;if(options._optimisticResults){let mounted=this.hasListeners(),fetchOnMount=!mounted&&shouldFetchOnMount(query,options),fetchOptionally=mounted&&shouldFetchOptionally(query,prevQuery,options,prevOptions);(fetchOnMount||fetchOptionally)&&(fetchStatus=(0,retryer.Kw)(query.options.networkMode)?"fetching":"paused",dataUpdatedAt||(status="loading")),"isRestoring"===options._optimisticResults&&(fetchStatus="idle")}if(options.keepPreviousData&&!state.dataUpdatedAt&&null!=prevQueryResult&&prevQueryResult.isSuccess&&"error"!==status)data=prevQueryResult.data,dataUpdatedAt=prevQueryResult.dataUpdatedAt,status=prevQueryResult.status,isPreviousData=!0;else if(options.select&&void 0!==state.data){if(prevResult&&state.data===(null==prevResultState?void 0:prevResultState.data)&&options.select===this.selectFn)data=this.selectResult;else try{this.selectFn=options.select,data=options.select(state.data),data=(0,utils.oE)(null==prevResult?void 0:prevResult.data,data,options),this.selectResult=data,this.selectError=null}catch(selectError){this.selectError=selectError}}else data=state.data;if(void 0!==options.placeholderData&&void 0===data&&"loading"===status){let placeholderData;if(null!=prevResult&&prevResult.isPlaceholderData&&options.placeholderData===(null==prevResultOptions?void 0:prevResultOptions.placeholderData))placeholderData=prevResult.data;else if(placeholderData="function"==typeof options.placeholderData?options.placeholderData():options.placeholderData,options.select&&void 0!==placeholderData)try{placeholderData=options.select(placeholderData),this.selectError=null}catch(selectError1){this.selectError=selectError1}void 0!==placeholderData&&(status="success",data=(0,utils.oE)(null==prevResult?void 0:prevResult.data,placeholderData,options),isPlaceholderData=!0)}this.selectError&&(error=this.selectError,data=this.selectResult,errorUpdatedAt=Date.now(),status="error");let isFetching="fetching"===fetchStatus,isLoading="loading"===status,isError="error"===status,result={status,fetchStatus,isLoading,isSuccess:"success"===status,isError,isInitialLoading:isLoading&&isFetching,data,dataUpdatedAt,error,errorUpdatedAt,failureCount:state.fetchFailureCount,failureReason:state.fetchFailureReason,errorUpdateCount:state.errorUpdateCount,isFetched:state.dataUpdateCount>0||state.errorUpdateCount>0,isFetchedAfterMount:state.dataUpdateCount>queryInitialState.dataUpdateCount||state.errorUpdateCount>queryInitialState.errorUpdateCount,isFetching,isRefetching:isFetching&&!isLoading,isLoadingError:isError&&0===state.dataUpdatedAt,isPaused:"paused"===fetchStatus,isPlaceholderData,isPreviousData,isRefetchError:isError&&0!==state.dataUpdatedAt,isStale:isStale(query,options),refetch:this.refetch,remove:this.remove};return result}updateResult(notifyOptions){let prevResult=this.currentResult,nextResult=this.createResult(this.currentQuery,this.options);if(this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,(0,utils.VS)(nextResult,prevResult))return;this.currentResult=nextResult;let defaultNotifyOptions={cache:!0};(null==notifyOptions?void 0:notifyOptions.listeners)!==!1&&(()=>{if(!prevResult)return!0;let{notifyOnChangeProps}=this.options,notifyOnChangePropsValue="function"==typeof notifyOnChangeProps?notifyOnChangeProps():notifyOnChangeProps;if("all"===notifyOnChangePropsValue||!notifyOnChangePropsValue&&!this.trackedProps.size)return!0;let includedProps=new Set(null!=notifyOnChangePropsValue?notifyOnChangePropsValue:this.trackedProps);return this.options.useErrorBoundary&&includedProps.add("error"),Object.keys(this.currentResult).some(key=>{let changed=this.currentResult[key]!==prevResult[key];return changed&&includedProps.has(key)})})()&&(defaultNotifyOptions.listeners=!0),this.notify({...defaultNotifyOptions,...notifyOptions})}updateQuery(){let query=this.client.getQueryCache().build(this.client,this.options);if(query===this.currentQuery)return;let prevQuery=this.currentQuery;this.currentQuery=query,this.currentQueryInitialState=query.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(null==prevQuery||prevQuery.removeObserver(this),query.addObserver(this))}onQueryUpdate(action){let notifyOptions={};"success"===action.type?notifyOptions.onSuccess=!action.manual:"error"!==action.type||(0,retryer.DV)(action.error)||(notifyOptions.onError=!0),this.updateResult(notifyOptions),this.hasListeners()&&this.updateTimers()}notify(notifyOptions){notifyManager.V.batch(()=>{var _this$options$onSucce,_this$options,_this$options$onSettl,_this$options2,_this$options$onError,_this$options3,_this$options$onSettl2,_this$options4;notifyOptions.onSuccess?(null==(_this$options$onSucce=(_this$options=this.options).onSuccess)||_this$options$onSucce.call(_this$options,this.currentResult.data),null==(_this$options$onSettl=(_this$options2=this.options).onSettled)||_this$options$onSettl.call(_this$options2,this.currentResult.data,null)):notifyOptions.onError&&(null==(_this$options$onError=(_this$options3=this.options).onError)||_this$options$onError.call(_this$options3,this.currentResult.error),null==(_this$options$onSettl2=(_this$options4=this.options).onSettled)||_this$options$onSettl2.call(_this$options4,void 0,this.currentResult.error)),notifyOptions.listeners&&this.listeners.forEach(({listener})=>{listener(this.currentResult)}),notifyOptions.cache&&this.client.getQueryCache().notify({query:this.currentQuery,type:"observerResultsUpdated"})})}}function shouldFetchOnMount(query,options){return!1!==options.enabled&&!query.state.dataUpdatedAt&&!("error"===query.state.status&&!1===options.retryOnMount)||query.state.dataUpdatedAt>0&&shouldFetchOn(query,options,options.refetchOnMount)}function shouldFetchOn(query,options,field){if(!1!==options.enabled){let value="function"==typeof field?field(query):field;return"always"===value||!1!==value&&isStale(query,options)}return!1}function shouldFetchOptionally(query,prevQuery,options,prevOptions){return!1!==options.enabled&&(query!==prevQuery||!1===prevOptions.enabled)&&(!options.suspense||"error"!==query.state.status)&&isStale(query,options)}function isStale(query,options){return query.isStaleByTime(options.staleTime)}var shim=__webpack_require__(1688);let useSyncExternalStore=shim.useSyncExternalStore,QueryErrorResetBoundaryContext=react.createContext((isReset=!1,{clearReset(){isReset=!1},reset(){isReset=!0},isReset:()=>isReset})),useQueryErrorResetBoundary=()=>react.useContext(QueryErrorResetBoundaryContext);var QueryClientProvider=__webpack_require__(5945);let IsRestoringContext=react.createContext(!1),useIsRestoring=()=>react.useContext(IsRestoringContext);IsRestoringContext.Provider;let ensurePreventErrorBoundaryRetry=(options,errorResetBoundary)=>{(options.suspense||options.useErrorBoundary)&&!errorResetBoundary.isReset()&&(options.retryOnMount=!1)},useClearResetErrorBoundary=errorResetBoundary=>{react.useEffect(()=>{errorResetBoundary.clearReset()},[errorResetBoundary])},getHasError=({result,errorResetBoundary,useErrorBoundary,query})=>{var params;return result.isError&&!errorResetBoundary.isReset()&&!result.isFetching&&(params=[result.error,query],"function"==typeof useErrorBoundary?useErrorBoundary(...params):!!useErrorBoundary)},ensureStaleTime=defaultedOptions=>{defaultedOptions.suspense&&"number"!=typeof defaultedOptions.staleTime&&(defaultedOptions.staleTime=1e3)},willFetch=(result,isRestoring)=>result.isLoading&&result.isFetching&&!isRestoring,shouldSuspend=(defaultedOptions,result,isRestoring)=>(null==defaultedOptions?void 0:defaultedOptions.suspense)&&willFetch(result,isRestoring),fetchOptimistic=(defaultedOptions,observer,errorResetBoundary)=>observer.fetchOptimistic(defaultedOptions).then(({data})=>{null==defaultedOptions.onSuccess||defaultedOptions.onSuccess(data),null==defaultedOptions.onSettled||defaultedOptions.onSettled(data,null)}).catch(error=>{errorResetBoundary.clearReset(),null==defaultedOptions.onError||defaultedOptions.onError(error),null==defaultedOptions.onSettled||defaultedOptions.onSettled(void 0,error)});function Home(){let[todoList,setTodoList]=(0,react.useState)([]),{data:getTanStackData}=function(arg1,arg2,arg3){let parsedOptions=(0,utils._v)(arg1,arg2,void 0);return function(options,Observer){let queryClient=(0,QueryClientProvider.NL)({context:options.context}),isRestoring=useIsRestoring(),errorResetBoundary=useQueryErrorResetBoundary(),defaultedOptions=queryClient.defaultQueryOptions(options);defaultedOptions._optimisticResults=isRestoring?"isRestoring":"optimistic",defaultedOptions.onError&&(defaultedOptions.onError=notifyManager.V.batchCalls(defaultedOptions.onError)),defaultedOptions.onSuccess&&(defaultedOptions.onSuccess=notifyManager.V.batchCalls(defaultedOptions.onSuccess)),defaultedOptions.onSettled&&(defaultedOptions.onSettled=notifyManager.V.batchCalls(defaultedOptions.onSettled)),ensureStaleTime(defaultedOptions),ensurePreventErrorBoundaryRetry(defaultedOptions,errorResetBoundary),useClearResetErrorBoundary(errorResetBoundary);let[observer]=react.useState(()=>new Observer(queryClient,defaultedOptions)),result=observer.getOptimisticResult(defaultedOptions);if(useSyncExternalStore(react.useCallback(onStoreChange=>{let unsubscribe=isRestoring?()=>void 0:observer.subscribe(notifyManager.V.batchCalls(onStoreChange));return observer.updateResult(),unsubscribe},[observer,isRestoring]),()=>observer.getCurrentResult(),()=>observer.getCurrentResult()),react.useEffect(()=>{observer.setOptions(defaultedOptions,{listeners:!1})},[defaultedOptions,observer]),shouldSuspend(defaultedOptions,result,isRestoring))throw fetchOptimistic(defaultedOptions,observer,errorResetBoundary);if(getHasError({result,errorResetBoundary,useErrorBoundary:defaultedOptions.useErrorBoundary,query:observer.getCurrentQuery()}))throw result.error;return defaultedOptions.notifyOnChangeProps?result:observer.trackResult(result)}(parsedOptions,QueryObserver)}(["getTodo"],()=>(0,GASAPI.zD)(3));return(0,react.useEffect)(()=>{getTanStackData&&setTodoList(getTanStackData)},[getTanStackData]),(0,jsx_runtime.jsxs)("div",{className:tanStackdemo_module_default().main,children:[(0,jsx_runtime.jsx)("h1",{children:"TanStack"}),todoList.map((todo,index)=>(0,jsx_runtime.jsx)("div",{children:todo.todo},"_".concat(index)))]})}},3629:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{VI:function(){return swrGetData},zD:function(){return tanStackGetData}});let NEXT_PUBLIC_GOOGLE_SHEETS_POST_KEY="AKfycbwxIM4qrgIzqEMvvDYmk5NFdIcOR-E2kpXRANPXyx9cSp0codFTysCwe2ZUej7Yla-zMQ",swrGetData=async key=>{let sourceList={sheetNo:1,method:"GET",type:"getPrivateData",menberId:key[1]},postparam={method:"POST",body:JSON.stringify(sourceList)},returnStr=[];return await fetch("https://script.google.com/macros/s/".concat(NEXT_PUBLIC_GOOGLE_SHEETS_POST_KEY,"/exec"),postparam).then(res=>Promise.any([res.json()]).then(data=>{returnStr=data})),returnStr},tanStackGetData=async menberId=>{let postparam={method:"POST",body:JSON.stringify({sheetNo:1,method:"GET",type:"getPrivateData",menberId:menberId})},response=await fetch("https://script.google.com/macros/s/".concat(NEXT_PUBLIC_GOOGLE_SHEETS_POST_KEY,"/exec"),postparam);return response.json()}},3467:function(module){module.exports={main:"tanStackdemo_main___uIgc",inputBox:"tanStackdemo_inputBox__74jBB",inputs:"tanStackdemo_inputs__GWiZL",container:"tanStackdemo_container__C66ol"}},3250:function(__unused_webpack_module,exports,__webpack_require__){"use strict";/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */ var e=__webpack_require__(7294),k="function"==typeof Object.is?Object.is:function(a,b){return a===b&&(0!==a||1/a==1/b)||a!=a&&b!=b},l=e.useState,m=e.useEffect,n=e.useLayoutEffect,p=e.useDebugValue;function r(a){var b=a.getSnapshot;a=a.value;try{var d=b();return!k(a,d)}catch(f){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(a,b){return b()}:function(a,b){var d=b(),f=l({inst:{value:d,getSnapshot:b}}),c=f[0].inst,g=f[1];return n(function(){c.value=d,c.getSnapshot=b,r(c)&&g({inst:c})},[a,d,b]),m(function(){return r(c)&&g({inst:c}),a(function(){r(c)&&g({inst:c})})},[a]),p(d),d};exports.useSyncExternalStore=void 0!==e.useSyncExternalStore?e.useSyncExternalStore:u},1688:function(module,__unused_webpack_exports,__webpack_require__){"use strict";module.exports=__webpack_require__(3250)}},function(__webpack_require__){__webpack_require__.O(0,[774,888,179],function(){return __webpack_require__(__webpack_require__.s=6033)}),_N_E=__webpack_require__.O()}]);