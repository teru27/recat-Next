(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[492],{9222:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/Gomoku",function(){return __webpack_require__(1271)}])},1271:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return App}});var _path,_path2,Circle_path,Circle_path2,jsx_runtime=__webpack_require__(5893),react=__webpack_require__(7294),gomoku_module=__webpack_require__(5521),gomoku_module_default=__webpack_require__.n(gomoku_module),generalSrc=__webpack_require__(3695);function _extends(){return(_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var CircleFilled=function(props){return react.createElement("svg",_extends({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-circle-filled",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},props),_path||(_path=react.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})),_path2||(_path2=react.createElement("path",{d:"M7 3.34a10 10 0 1 1 -4.995 8.984l-.005 -.324l.005 -.324a10 10 0 0 1 4.995 -8.336z",strokeWidth:0,fill:"currentColor"})))};function Circle_extends(){return(Circle_extends=Object.assign?Object.assign.bind():function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}).apply(this,arguments)}var Circle=function(props){return react.createElement("svg",Circle_extends({xmlns:"http://www.w3.org/2000/svg",className:"icon icon-tabler icon-tabler-circle",width:24,height:24,viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},props),Circle_path||(Circle_path=react.createElement("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"})),Circle_path2||(Circle_path2=react.createElement("path",{d:"M12 12m-9 0a9 9 0 1 0 18 0a9 9 0 1 0 -18 0"})))};let GomokuSquareText=props=>{let{square}=props;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:(()=>{switch(square){case 1:return(0,jsx_runtime.jsx)(Circle,{});case 2:return(0,jsx_runtime.jsx)(CircleFilled,{});default:return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{})}})()})};var gomokuRow_module=__webpack_require__(1023),gomokuRow_module_default=__webpack_require__.n(gomokuRow_module);let GomokuRow=props=>{let{indexI,squares,clickEvent}=props;return(0,jsx_runtime.jsx)(jsx_runtime.Fragment,{children:squares.map((square,j)=>(0,jsx_runtime.jsx)("div",{className:gomokuRow_module_default().square,onClick:()=>clickEvent(indexI,j,square),children:(0,jsx_runtime.jsx)("div",{className:gomokuRow_module_default().squareText,children:(0,jsx_runtime.jsx)(GomokuSquareText,{square:square})})},"key_".concat(j)))})};function App(){let[number,setNumber]=(0,react.useState)(3),[countNum,setCountNum]=(0,react.useState)(3),tileList=(0,generalSrc.qR)(10,3),[nowPlayer,setNowPlayer]=(0,react.useState)(1),[squaresList,setSquaresList]=(0,react.useState)([]),[changeSquares,setChangeSquares]=(0,react.useState)([]),[reStart,setReStart]=(0,react.useState)(!1),[gameStets,setGameStets]=(0,react.useState)("start"),clickEvent=(i,j,square)=>{"end"!=gameStets&&("start"==gameStets&&setGameStets("now"),0==squaresList[i][j]&&(squaresList[i][j]=nowPlayer,setChangeSquares(squaresList)))},allFilled=()=>{let filled=squaresList.map(squares=>squares.includes(0));return!filled.some(value=>value)},reStartEvent=()=>{setNowPlayer(1),setGameStets("now"),setReStart(pev=>!pev)},warpOrWeftProcess=squaresList=>squaresList.map(squares=>{let count=0;return squares.map(square=>{count!=countNum&&(square==nowPlayer?count++:count=0)}),count==countNum}),upLeftProcess=squaresList=>squaresList.map((squares,i)=>{let count1=0,count2=0;return squares.map((_,j)=>{i+j<squaresList.length&&count1!=countNum&&count2!=countNum&&(squaresList[i+j][squaresList.length-(squaresList.length-j)]==nowPlayer?count1++:count1=0,squaresList[squaresList.length-(squaresList.length-j)][i+j]==nowPlayer?count2++:count2=0)}),count1==countNum||count2==countNum}),upRightProcess=squaresList=>squaresList.map((squares,i)=>(squares.map((_,j)=>{squaresList.length}),0==countNum)),beAllPresent=()=>{let weft=warpOrWeftProcess(squaresList);if(weft.some(value=>value))return!0;let warp=warpOrWeftProcess((0,generalSrc.p4)(squaresList));if(warp.some(value=>value))return!0;let upLeft=upLeftProcess(squaresList);if(upLeft.some(value=>value))return!0;let upRight=upRightProcess(squaresList);return!!upRight.some(value=>value)},changePlayer=()=>{setNowPlayer(1===nowPlayer?2:1)},mainProcess=()=>{if(setSquaresList(changeSquares),setChangeSquares([]),beAllPresent()){setGameStets("end");return}if(allFilled()){setGameStets("draw");return}changePlayer()};return(0,react.useEffect)(()=>{setSquaresList((0,generalSrc.o)(number,!0))},[number,reStart]),(0,react.useEffect)(()=>{0!=changeSquares.length&&mainProcess()},[changeSquares]),(0,jsx_runtime.jsxs)("div",{children:[(0,jsx_runtime.jsx)("div",{className:gomoku_module_default().box,children:(0,jsx_runtime.jsxs)("div",{className:gomoku_module_default().text,children:["start"==gameStets&&(0,jsx_runtime.jsx)("div",{children:"Player".concat(nowPlayer,"のターン")}),"now"==gameStets&&(0,jsx_runtime.jsx)("div",{children:"Player".concat(nowPlayer,"のターン")}),("end"==gameStets||"draw"==gameStets)&&(0,jsx_runtime.jsxs)("div",{children:["end"==gameStets?"Player".concat(nowPlayer,"の勝ち"):"引き分け",(0,jsx_runtime.jsx)("br",{}),(0,jsx_runtime.jsx)("button",{onClick:()=>reStartEvent(),children:"もう一度"})]})]})}),(0,jsx_runtime.jsx)("div",{className:gomoku_module_default().squaresBox,style:{height:"".concat(100*number,"px"),width:"".concat(100*number,"px")},children:(0,jsx_runtime.jsxs)("div",{className:"now"!=gameStets?gomoku_module_default().overlay:void 0,children:[(0,jsx_runtime.jsx)("div",{className:gomoku_module_default().startText,style:{top:"".concat(20*number/2,"%"),left:"".concat(32*number/2,"%")},children:"start"==gameStets&&(0,jsx_runtime.jsx)("div",{children:"Start"})}),squaresList&&squaresList.map((squares,i)=>(0,jsx_runtime.jsx)("div",{className:gomoku_module_default().squares,children:(0,jsx_runtime.jsx)(GomokuRow,{indexI:i,squares:squares,clickEvent:clickEvent})},"key_".concat(i)))]})}),(0,jsx_runtime.jsx)("div",{className:gomoku_module_default().box,children:(0,jsx_runtime.jsx)("div",{className:gomoku_module_default().text,children:(0,jsx_runtime.jsx)("select",{disabled:"start"!=gameStets,onChange:e=>setNumber(Number(e.target.value)),defaultValue:number,children:tileList.map(tile=>(0,jsx_runtime.jsx)("option",{value:tile,children:tile},"key_".concat(tile)))})})})]})}},3695:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,{LN:function(){return sum2Array},Mu:function(){return centerArrayCalc},YL:function(){return bogoSort},iP:function(){return useWindowSize},k8:function(){return rotationMatrix},o:function(){return dimensional2Array},p4:function(){return transpose},qR:function(){return createSumNumberArray},t$:function(){return getRandomNum}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7294);function dimensional2Array(index,arrNum,index2){let board=[],indexRow=void 0!==index2?index2:index,numOrStr=arrNum?0:"0";for(var i=0;i<index;i++){board[i]=[];for(var j=0;j<indexRow;j++)board[i][j]=numOrStr}return board}function sum2Array(index,startNum,sumNumber){let numberArr=dimensional2Array(index,!0),count=0;for(var i=0;i<numberArr.length;i++)for(var j=0;j<numberArr[i].length;j++)numberArr[i][j]=startNum+count,count=sumNumber?count+sumNumber:count+1;return numberArr}function rotationMatrix(x,y,angle){let radian=angle*(Math.PI/180),sin=Math.round(Math.sin(radian)),cos=Math.round(Math.cos(radian));return{X:x*cos+-(y*sin),Y:x*sin+y*cos}}function centerArrayCalc(array,x,y){let xLength=array.length,yLength=array[0].length,board=dimensional2Array(xLength,!1,yLength);for(var i=0;i<xLength;i++)for(var j=0;j<yLength;j++){let xCalc=y>=j?j-y:Math.abs(j-y),yCalc=i>=x?-1*(i-x):Math.abs(i-x);board[i][j]="".concat(xCalc,",").concat(yCalc)}return board}function bogoSort(arr,answerArr){let completion=!1;for(;!completion;){let index=arr.length;for(;index;){var i=Math.floor(Math.random()*index),str=arr[--index];arr[index]=arr[i],arr[i]=str}JSON.stringify(arr)==JSON.stringify(answerArr)&&(completion=!0)}}let useWindowSize=()=>{let[size,setSize]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)([0,0]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useLayoutEffect)(()=>{let updateSize=()=>{setSize([window.innerWidth,window.innerHeight])};return window.addEventListener("resize",updateSize),updateSize(),()=>window.removeEventListener("resize",updateSize)},[]),size},getRandomNum=(min,max)=>Math.floor(Math.random()*(max-min+1))+min;function createSumNumberArray(index,minNumber){let board=[],defaultNumber=minNumber?minNumber-1:0;for(var i=defaultNumber;i<index;i++)board[i]=i+1;return board}let transpose=a=>a[0].map((_,c)=>a.map(r=>r[c]))},1023:function(module){module.exports={square:"gomokuRow_square__vggcw",squareText:"gomokuRow_squareText__hc6sa"}},5521:function(module){module.exports={box:"gomoku_box__V8z4t",text:"gomoku_text__B2ChC",squares:"gomoku_squares__pWpPP",squaresBox:"gomoku_squaresBox__PjzIY",overlay:"gomoku_overlay__P_e5s",startText:"gomoku_startText__51iRl"}}},function(__webpack_require__){__webpack_require__.O(0,[774,888,179],function(){return __webpack_require__(__webpack_require__.s=9222)}),_N_E=__webpack_require__.O()}]);