(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{3454:function(module,__unused_webpack_exports,__webpack_require__){"use strict";var ref,ref1;module.exports=(null==(ref=__webpack_require__.g.process)?void 0:ref.env)&&"object"==typeof(null==(ref1=__webpack_require__.g.process)?void 0:ref1.env)?__webpack_require__.g.process:__webpack_require__(7663)},3805:function(__unused_webpack_module,__unused_webpack_exports,__webpack_require__){(window.__NEXT_P=window.__NEXT_P||[]).push(["/url",function(){return __webpack_require__(183)}])},183:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:function(){return Home}});var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(5893),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(7294),_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(8855),_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2__),process=__webpack_require__(3454);function Home(){let REACT_APP_GOOGLE_SHEETS_API_KEY=process.env.REACT_APP_GOOGLE_SHEETS_API_KEY||"AIzaSyAY5ELh7nvibnjKlN9EuEjA_cEpDp3pZcU",REACT_APP_GOOGLE_SHEETS_DOC_ID=process.env.REACT_APP_GOOGLE_SHEETS_DOC_ID||"1pPaTwWntCrt4dzijy6dcuxA6jzLT2jqwYyEXXu6d56g",REACT_APP_GOOGLE_SHEETS_POST_KEY=process.env.REACT_APP_GOOGLE_SHEETS_POST_KEY||"AKfycbyAkfLMcjLWroKxoqBPpEBIJkuY7H29zrBOR1UfgK_IbWJHwCAE2MLDI2hoosVIJuBFIw",[allProduct,setAllProduct]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),[loding,setLoding]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!0),CsvDic=props=>{let[header,...rows]=props;return rows.map(row=>row.reduce((acc,cell,i)=>({...acc,[header[i]]:cell}),{}))};(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{loding&&fetch("https://sheets.googleapis.com/v4/spreadsheets/".concat(REACT_APP_GOOGLE_SHEETS_DOC_ID,"/values/sheet1?key=").concat(REACT_APP_GOOGLE_SHEETS_API_KEY)).then(res=>res.json()).then(datas=>setAllProduct(CsvDic(datas.values))),console.log("loding"),setLoding(!1)},[loding]);let[setInput,getInput]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(),click=()=>{if(setInput&&setInput.match(/[https://sakura-checker.jp/]+/)){console.log("送信");let sellNumber=allProduct.length+2,sourceList={sheetNo:2,data:[{menberId:"1",id:"".concat(sellNumber),parts:"",URL:"".concat(setInput),productName:"=if(D".concat(sellNumber,'="","",SUBSTITUTE(SUBSTITUTE(IMPORTXML(D').concat(sellNumber,',"//title"),"【サクラチェッカー】",""),"のやらせ評価/口コミをチェック","")) '),price:"=if(D".concat(sellNumber,'="","",IMPORTXML(D').concat(sellNumber,",\"//*[@id='itemprice']\")) ")}]},postparam={method:"POST",body:JSON.stringify(sourceList)};fetch("https://script.google.com/macros/s/".concat(REACT_APP_GOOGLE_SHEETS_POST_KEY,"/exec"),postparam).then(response=>(console.log(response.status),response.json())).then(data=>{console.log(data.result),setLoding(!0)}).catch(err=>{console.log("Error!")})}},[sumPrice,setSumPrice]=(0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]),sum=0;return(0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{sumPrice.forEach((item,index)=>{sum+=Number(item.price)})},[sumPrice]),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().main,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h1",{children:"桜チェッカーのURLから値段と商品名を抜き出す"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().inputBox,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().inputs,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input",{type:"text",onChange:e=>getInput(e.target.value),className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().inputs}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("button",{onClick:()=>click(),className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().button,children:[" ","送信"]})]})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("section",{className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().container,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().box,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{children:"商品一覧"}),allProduct.map((item,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().itemBox,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().itemName,children:["商品名：",item.productName]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:["値段：",item.price]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{})]}))]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().box,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("h2",{children:"合計"}),sumPrice.map((item,index)=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().itemBox,children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{className:_url_url_module_scss__WEBPACK_IMPORTED_MODULE_2___default().item,children:["商品名：",item.productName]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:["値段：",item.price]})]})),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:["合計金額：",sum]})]})]})]})}},8855:function(module){module.exports={main:"url_main___tK9F",inputBox:"url_inputBox__SDjrp",inputs:"url_inputs__reh3u",input:"url_input__2CU6Q",button:"url_button__NGhAU",container:"url_container__wiuvT",box:"url_box__Ug8IJ",itemBox:"url_itemBox__px_nq",itemName:"url_itemName__kyFjM"}},7663:function(module){!function(){var e={229:function(e){var r,n,u,t=e.exports={};function defaultSetTimout(){throw Error("setTimeout has not been defined")}function defaultClearTimeout(){throw Error("clearTimeout has not been defined")}function runTimeout(e){if(r===setTimeout)return setTimeout(e,0);if((r===defaultSetTimout||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t1){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){r=defaultSetTimout}try{n="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e1){n=defaultClearTimeout}}();var i=[],o=!1,a=-1;function cleanUpNextTick(){o&&u&&(o=!1,u.length?i=u.concat(i):a=-1,i.length&&drainQueue())}function drainQueue(){if(!o){var e=runTimeout(cleanUpNextTick);o=!0;for(var t=i.length;t;){for(u=i,i=[];++a<t;)u&&u[a].run();a=-1,t=i.length}u=null,o=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===defaultClearTimeout||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t1){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}t.nextTick=function(e){var t=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];i.push(new Item(e,t)),1!==i.length||o||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},t.title="browser",t.browser=!0,t.env={},t.argv=[],t.version="",t.versions={},t.on=noop,t.addListener=noop,t.once=noop,t.off=noop,t.removeListener=noop,t.removeAllListeners=noop,t.emit=noop,t.prependListener=noop,t.prependOnceListener=noop,t.listeners=function(e){return[]},t.binding=function(e){throw Error("process.binding is not supported")},t.cwd=function(){return"/"},t.chdir=function(e){throw Error("process.chdir is not supported")},t.umask=function(){return 0}}},t={};function __nccwpck_require__(r){var n=t[r];if(void 0!==n)return n.exports;var i=t[r]={exports:{}},o=!0;try{e[r](i,i.exports,__nccwpck_require__),o=!1}finally{o&&delete t[r]}return i.exports}__nccwpck_require__.ab="//";var r=__nccwpck_require__(229);module.exports=r}()}},function(__webpack_require__){__webpack_require__.O(0,[774,888,179],function(){return __webpack_require__(__webpack_require__.s=3805)}),_N_E=__webpack_require__.O()}]);